# Настройка GitHub Secrets

Для работы автоматического деплоя необходимо настроить секреты в GitHub.

## Шаги настройки

1. Откройте ваш репозиторий на GitHub
2. Перейдите в **Settings** → **Secrets and variables** → **Actions**
3. Нажмите **New repository secret**
4. Добавьте следующие секреты:

### SSH_HOST
- **Name:** `SSH_HOST`
- **Value:** IP адрес вашего сервера Timeweb (например: `123.456.789.012`)

### SSH_USER
- **Name:** `SSH_USER`
- **Value:** Имя пользователя для SSH подключения (обычно предоставляется Timeweb)

### SSH_PRIVATE_KEY
- **Name:** `SSH_PRIVATE_KEY`
- **Value:** Приватный SSH ключ

#### Как получить SSH ключ:

Если у вас еще нет SSH ключа, создайте его на своем локальном компьютере:

```bash
ssh-keygen -t ed25519 -C "github-actions"
```

Нажмите Enter для всех вопросов (сохраните в стандартное место).

Скопируйте содержимое приватного ключа:

```bash
cat ~/.ssh/id_ed25519
```

Скопируйте весь вывод (включая строки `-----BEGIN OPENSSH PRIVATE KEY-----` и `-----END OPENSSH PRIVATE KEY-----`) и вставьте в GitHub Secret.

Затем добавьте публичный ключ на сервер:

```bash
ssh-copy-id ваш_пользователь@ваш_сервер_ip
```

Или вручную:
```bash
cat ~/.ssh/id_ed25519.pub
```

Скопируйте вывод и на сервере добавьте его в файл `~/.ssh/authorized_keys`:

```bash
ssh ваш_пользователь@ваш_сервер_ip
mkdir -p ~/.ssh
chmod 700 ~/.ssh
nano ~/.ssh/authorized_keys
# Вставьте публичный ключ
chmod 600 ~/.ssh/authorized_keys
```

### BOT_TOKEN
- **Name:** `BOT_TOKEN`
- **Value:** Токен вашего Telegram бота (получен от @BotFather)

## Проверка

После настройки всех секретов:
1. Сделайте любой коммит и push в ветку `main`
2. Перейдите в **Actions** в вашем репозитории
3. Убедитесь, что workflow запустился и выполнился успешно

## Безопасность

⚠️ **Важно:**
- Никогда не коммитьте приватные ключи или токены в репозиторий
- Используйте только GitHub Secrets для хранения чувствительной информации
- Регулярно обновляйте SSH ключи
